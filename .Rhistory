library(dplyr)
library(ggplot2)
library(shiny)
library(plotly)
library(shinycssloaders)
library(shinydashboard)
library(DT)
# Importing the python class ----
use_condaenv("markowitz", required=TRUE)
path = "/Users/paulmora/Documents/projects/markowitz_app/"
source_python(paste(path, "efficient_frontier_functions.py", sep=""))
# Importing ticker list ----
ticker = read_excel(paste(path, "ticker.xlsx", sep=""), skip=3)
clean_tickers = ticker %>% filter(!is.na(ticker$Name))
stock_names_ticker = setNames(clean_tickers$Ticker, clean_tickers$Name)
# Python to R function ----
transform_python_data_to_r = function (python_data) {
data_list = py_to_r(python_data)  # get data out of dictionary
data = lapply(data_list, py_to_r)  # get data into
return = data
}
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
python_return_information = py_get_attr(port_calc, "results")
return_data = transform_python_data_to_r(python_return_information)
return_data$eff_weights
return_data$ef_weights
return_data$portf
return_data$portfolio_weights
return_data$ef_weights
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
a = data.frame(x=c(1, 2, 3))
length(a)
length(a,1)
size(a)
runApp('Documents/projects/markowitz_app')
nrow(a)
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
library(readxl)
library(reticulate)
library(dplyr)
library(ggplot2)
library(shiny)
library(plotly)
library(shinycssloaders)
library(shinydashboard)
library(DT)
# Importing the python class ----
use_condaenv("markowitz", required=TRUE)
path = "/Users/paulmora/Documents/projects/markowitz_app/"
source_python(paste(path, "efficient_frontier_functions.py", sep=""))
# Importing ticker list ----
ticker = read_excel(paste(path, "ticker.xlsx", sep=""), skip=3)
clean_tickers = ticker %>% filter(!is.na(ticker$Name))
stock_names_ticker = setNames(clean_tickers$Ticker, clean_tickers$Name)
# Python to R function ----
transform_python_data_to_r = function (python_data) {
data_list = py_to_r(python_data)  # get data out of dictionary
data = lapply(data_list, py_to_r)  # get data into
return = data
}
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
python_return_information = py_get_attr(port_calc, "results")
return_data = transform_python_data_to_r(python_return_information)
return_data$portfolio
return_data$efficient_frontier
returns = return_data
returns[which.max(returns$efficient_frontier$sharpe_ratio)]
returns$efficient_frontier$sharpe_ratio
which.max(returns$efficient_frontier$sharpe_ratio)
returns$efficient_frontier$sharpe_ratio
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
color_picker = function(type, number) {
if (type=="more_is_good") {
if (number<100) {
color = "red"
} else {
color = "green"
}
}
return(color)
}
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
shiny::runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
library(readxl)
library(reticulate)
library(dplyr)
library(ggplot2)
library(shiny)
library(plotly)
library(shinycssloaders)
library(shinydashboard)
library(DT)
# Importing the python class ----
use_condaenv("markowitz", required=TRUE)
path = "/Users/paulmora/Documents/projects/markowitz_app/"
source_python(paste(path, "efficient_frontier_functions.py", sep=""))
# Importing ticker list ----
ticker = read_excel(paste(path, "ticker.xlsx", sep=""), skip=3)
clean_tickers = ticker %>% filter(!is.na(ticker$Name))
stock_names_ticker = setNames(clean_tickers$Ticker, clean_tickers$Name)
# Python to R function ----
transform_python_data_to_r = function (python_data) {
data_list = py_to_r(python_data)  # get data out of dictionary
data = lapply(data_list, py_to_r)  # get data into
return = data
}
# Color picking color
color_picker = function(type, number) {
if (type=="more_is_good") {
if (number<100) {
color = "red"
} else {
color = "green"
}
} else if (type=="more_is_bad") {
if (number<=100) {
color = "green"
} else {
color = "red"
}
}
return(color)
}
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
python_return_information = py_get_attr(port_calc, "results")
return_data = transform_python_data_to_r(python_return_information)
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
port_calc
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
python_return_information = py_get_attr(port_calc, "results")
return_data = transform_python_data_to_r(python_return_information)
library(readxl)
library(reticulate)
library(dplyr)
library(ggplot2)
library(shiny)
library(plotly)
library(shinycssloaders)
library(shinydashboard)
library(DT)
# Importing the python class ----
use_condaenv("markowitz", required=TRUE)
path = "/Users/paulmora/Documents/projects/markowitz_app/"
source_python(paste(path, "efficient_frontier_functions.py", sep=""))
# Importing ticker list ----
ticker = read_excel(paste(path, "ticker.xlsx", sep=""), skip=3)
clean_tickers = ticker %>% filter(!is.na(ticker$Name))
stock_names_ticker = setNames(clean_tickers$Ticker, clean_tickers$Name)
# Python to R function ----
transform_python_data_to_r = function (python_data) {
data_list = py_to_r(python_data)  # get data out of dictionary
data = lapply(data_list, py_to_r)  # get data into
return = data
}
# Color picking color
color_picker = function(type, number) {
if (type=="more_is_good") {
if (number<100) {
color = "red"
} else {
color = "green"
}
} else if (type=="more_is_bad") {
if (number<=100) {
color = "green"
} else {
color = "red"
}
}
return(color)
}
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
python_return_information = py_get_attr(port_calc, "results")
return_data = transform_python_data_to_r(python_return_information)
return_data$stock_weight
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp()
runApp('Documents/projects/markowitz_app')
return_data$stock_weight
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
a = 1
runApp('Documents/projects/markowitz_app')
ggplot() +
geom_point(data=return_data$stocks,
aes(risk, return))
ggplot() +
geom_point(data=return_data$stocks,
aes(risk, return, colour="bla")) +
scale_color_manual(values=c("bla"="red"))
sharpe_ratio
ggplot() +
geom_point(data=return_data$stocks,
aes(risk, return, colour="bla")) +
geom_point(data=return_data$portfolio,
aes(risk, return, color=sharpe_ratio))
scale_color_manual(values=c("bla"="red"))
ggplot() +
geom_point(data=return_data$stocks,
aes(risk, return, colour="red")) +
geom_point(data=return_data$portfolio,
aes(risk, return, color=sharpe_ratio))
ggplot() +
geom_point(data=return_data$stocks,
aes(risk, return)) +
geom_point(data=return_data$portfolio,
aes(risk, return, color=sharpe_ratio))
ggplot() +
geom_point(data=return_data$stocks,
aes(risk, return)) +
geom_point(data=return_data$portfolio,
aes(risk, return, color=sharpe_ratio)) +
scale_color_gradient(low = "blue", high = "red")
return_data$stocks
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp()
runApp('Documents/projects/markowitz_app')
install.packages("ggrepel")
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
a = stack(setNames(return_data, seq_along(return_data)))
a = stack(setNames(return_data, seq_along(return_data)))
a
return_data
setNames(return_data, seq_along(return_data))
a = 9
stack(setNames(return_data, seq_along(return_data)))
seq_along(return_data)
names(return_data)
a = stack(setNames(return_data, names(return_data)))
example <- list("12908430751", "12908453145", c("12908453145","12908472085","453145472085"), c("12908453145", "12908472085", "453145472085"), "12908453145", c("12908453145", "12908472085", "453145472085"))
example
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
as.factor(return_data$portfolio$sharpe_ratio)
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
return_data$mvp
runApp('Documents/projects/markowitz_app')
return_data$mvp
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp()
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
return_data$stock_weight
return_data$stock_weight %>% slice(2)
return_data$stock_weight %>% slice(3)
return_data$stock_weight %>% slice(1)
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp()
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp()
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
shiny::runApp('Documents/projects/markowitz_app')
virtualenv_dir = Sys.getenv('VIRTUALENV_NAME')
python_path = Sys.getenv('PYTHON_PATH')
# Create virtual env and install dependencies
reticulate::virtualenv_create(envname = virtualenv_dir, python = python_path)
shiny::runApp('Documents/projects/markowitz_app')
file.edit(".Rprofile")
file.edit(".Rprofile")
source('~/.Rprofile')
file.edit(".Rprofile")
shiny::runApp('Documents/projects/markowitz_app')
install.packages("devtools")
install.packages("viridisLite")
library(viridisLite)
remove.packages("viridisLite")
remove.packages("viridis")
library(viridisLite)
remove.packages("viridisLite", "/var/folders/mz/76c7flgd1mg1gllhrfqxq0580000gn/T//RtmpB6CSN0/downloaded_packages")
remove.packages("viridisLite", "/var/folders/mz/76c7flgd1mg1gllhrfqxq0580000gn/T//RtmpB6CSN0/downloaded_packages")
remove.packages("viridis", "/var/folders/mz/76c7flgd1mg1gllhrfqxq0580000gn/T//RtmpB6CSN0/downloaded_packages")
install.packages("viridisLite")
remove.packages("viridisLite")
libpaths()
.libpaths()
.libpaths()
.libPaths()
pwd
getpwd()
getwd
getwd()
shiny::runApp('Documents/projects/markowitz_app')
install.packages("viridisLite")
library(viridisLite)
installed.packages()
a = installed.packages()
View(a)
View(a)
shiny::runApp('Documents/projects/markowitz_app')
runApp('Documents/projects/markowitz_app')
shiny::runApp('Documents/projects/markowitz_app')
runApp()
runApp('Documents/projects/markowitz_app')
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
# Importing ticker list ----
ticker = read_excel("ticker.xlsx", skip=3)
clean_tickers = ticker %>% filter(!is.na(ticker$Name))
stock_names_ticker = setNames(clean_tickers$Ticker, clean_tickers$Name)
# Python to R function ----
transform_python_data_to_r = function (python_data) {
data_list = py_to_r(python_data)  # get data out of dictionary
data = lapply(data_list, py_to_r)  # get data into
return = data
}
reticulate::source_python("efficient_frontier_functions.py")
reticulate::use_virtualenv(virtualenv_dir, required=TRUE)
reticulate::source_python("efficient_frontier_functions.py")
virtualenv_dir = Sys.getenv("VIRTUALENV_NAME")
python_path = Sys.getenv("PYTHON_PATH")
# Create virtual env and install dependencies
reticulate::virtualenv_create(envname = virtualenv_dir, python = python_path)
reticulate::virtualenv_install(virtualenv_dir, packages=PYTHON_DEPENDENCIES,
ignore_installed=TRUE)
reticulate::use_virtualenv(virtualenv_dir, required=TRUE)
reticulate::source_python("efficient_frontier_functions.py")
source_python("efficient_frontier_functions.py")
library(reticulate)
reticulate::source_python("efficient_frontier_functions.py")
source_python("efficient_frontier_functions.py")
reticulate::source_python("efficient_frontier_functions.py")
pwd
reticulate::use_virtualenv(virtualenv_dir, required=TRUE)
reticulate::source_python("efficient_frontier_functions.py")
library(readxl)
library(dplyr)
library(ggplot2)
library(shiny)
library(plotly)
library(shinycssloaders)
library(shinydashboard)
library(DT)
library(rsconnect)
library(devtools)
library(reticulate)
# Importing ticker list ----
ticker = read_excel("ticker.xlsx", skip=3)
clean_tickers = ticker %>% filter(!is.na(ticker$Name))
stock_names_ticker = setNames(clean_tickers$Ticker, clean_tickers$Name)
# Importing ticker list ----
ticker = read_excel("ticker.xlsx", skip=3)
# Importing ticker list ----
ticker = read_excel("ticker.xlsx", skip=3)
getwd
getwd()
setwd("/Users/paulmora/Documents/markowitz_app")
setwd("/Users/paulmora/Documents/projects/markowitz_app")
# Importing ticker list ----
ticker = read_excel("ticker.xlsx", skip=3)
clean_tickers = ticker %>% filter(!is.na(ticker$Name))
runApp()
ticker = read_excel("ticker.xlsx", skip=3)
clean_tickers = ticker %>% filter(!is.na(ticker$Name))
stock_names_ticker = setNames(clean_tickers$Ticker, clean_tickers$Name)
reticulate::source_python("efficient_frontier_functions.py")
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
python_return_information = py_get_attr(port_calc, "results")
return_data = transform_python_data_to_r(python_return_information)
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
python_return_information = py_get_attr(port_calc, "results")
return_data = transform_python_data_to_r(python_return_information)
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
python_return_information = py_get_attr(port_calc, "results")
return_data = transform_python_data_to_r(python_return_information)
reticulate::source_python("efficient_frontier_functions.py")
port_calc = MarkowitzReturns(c("AAPL", "BAC", "AMZN"),
"1/1/2016",
"1/1/2018")
python_return_information = py_get_attr(port_calc, "results")
return_data = transform_python_data_to_r(python_return_information)
return_data
runApp()
